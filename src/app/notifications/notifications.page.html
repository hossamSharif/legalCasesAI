



<ion-content class="ion-margin-top"> 
  <ion-grid class="ion-margin-start ion-margin-bottom ion-margin-end">
    <ion-row class="ion-margin-top">
      <ion-col size="12">
        <ion-toolbar >
          <ion-title class="fontLarge">المهام</ion-title>
          <ion-buttons slot="end">
            <ion-searchbar class="custSearch"> </ion-searchbar>  
          </ion-buttons>
          <ion-button slot="end"  fill="outline" (click)="newTask()"  color="medium" class="custButton rad10">
            <ion-icon class="ico " color="dark" name="add-circle-outline"></ion-icon>
               <ion-text color="dark"> مهمة جديد </ion-text>     
          </ion-button> 
        </ion-toolbar>
      </ion-col> 
    </ion-row>
  
    <ion-row class="ion-margin-top">
      <ion-card class="w100 ion-margin-top">
        <ion-card-header class="listHed">
          <ion-col size="12">
            <ion-toolbar>
          <ion-button class="rad10"  fill="outline"  color="medium">
            <ion-icon color="dark"  slot="icon-only" name="filter"></ion-icon>
          </ion-button>
          <ion-button class="rad10"  fill="outline"  color="medium" (click)="refresh()">
            <ion-icon  slot="icon-only" color="dark" name="refresh"></ion-icon>
          </ion-button>
  
          </ion-toolbar>
          </ion-col>
        </ion-card-header>
        <ion-grid class="ion-no-padding"> 
          <ion-row>
            <ion-col size="12" class="ion-no-padding custCol">
              <table  class="table"  >
                <tr>
                  <th>
                    عنوان التنبيه  
                </th> 
                 <th>
                     رسالة  
                 </th> 
                  
                 <th>    تاريخ  
                 </th> 
                 <th>  نوع التنبيه
                </th>
                 <!-- <th>    حالة التنبيه
                </th>    -->
                 <th>     الأشخاص 
                </th> 
                <th><strong>تعديل</strong>  </th> 
                </tr>
                 
                 <tr *ngFor="let case of tasksArr">
                  <td>
                    <ion-text> {{case.title}} </ion-text> 
                  </td>
                   <td>
                     <ion-text> {{case.notification_message.substring(0,20)}} </ion-text> 
                   </td> 
                   <td>
                    <ion-text> {{case.notification_date | formatDate}}</ion-text> 
                  </td>
                  <td>
                    <ion-text> {{case.notification_type}} </ion-text> 
                  </td>
                  <!-- <td> 
                    <ion-text *ngIf="case.is_read == 0"> {{case.is_read}} </ion-text> 
                    <ion-text  *ngIf="case.is_read == 1"> {{case.is_read}} </ion-text> 
                  </td> -->
                   <td>
                    <ion-label *ngFor="let tm of case.team"> 
                      <ion-text >{{tm.name}}</ion-text><br>
                    </ion-label>  
                   </td>
                    
   
                   <td>
                    <ion-button fill="clear" (click)="getTaskDetails(case  , 'basics')"><ion-icon name="create-outline" color="meduim" ></ion-icon></ion-button>
                   </td>  
                 </tr> 
                 
                   
  
                <tr *ngIf="loading == true">
                 <td> <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></td> 
                 <td> <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></td> 
                 <td> <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></td> 
                 <td> <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></td> 
                 <td><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></td>
                 <td>  <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></td>
                 <td><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></td>
                 <td><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></td>
                 
                </tr>   
              </table>
              
              
              <ion-row class="ion-justify-content-center ion-margin-top" *ngIf="showEmpty == true"> 
               <ion-col size="4" class="ion-text-center">  
                 <ion-label> 
                   <ion-icon style="font-size: 30px;"  name="archive-outline"></ion-icon>
                </ion-label>
                <h4> لا توجد سجلات </h4> 
               </ion-col>
             </ion-row>
            </ion-col>
          </ion-row>  
        </ion-grid> 
  
        <ion-card-header class="listHed">
          <ion-col size="12">
            <ion-toolbar >
              <ion-button class="rad10"  fill="clear">
                <ion-icon color="dark"   name="chevron-back"></ion-icon> 
                <ion-text color="dark" >السابق</ion-text> 
              </ion-button>
              <ion-button class="rad10 fleft"  fill="clear"> 
                <ion-text color="dark"  >التالي</ion-text>
                <ion-icon color="dark"   name="chevron-forward"></ion-icon>
               
              </ion-button>
            </ion-toolbar>
          </ion-col>
        </ion-card-header>
      </ion-card>
    </ion-row>
  </ion-grid>
  </ion-content>
  