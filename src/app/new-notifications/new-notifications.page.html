<ion-header class="">
  <ion-toolbar translucent dir="rtl" class="toolPadding">
    <ion-title class="fontLarge" > <ion-text>  تنبيه جديدة    </ion-text> </ion-title>
    <ion-buttons slot="end" class="ion-margin-end" (click)="close()">
      <div class="circleDev">
        <ion-button fill="clear">
          <ion-icon name="close-outline" class="ico"></ion-icon>
        </ion-button>
      </div>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-margin-top">
  <ion-grid class="ion-margin-start ion-margin-bottom ion-margin-end">
    <ion-row class="ion-margin-top"> 
      <ion-col size="12">

      </ion-col>
    </ion-row>
    <ion-row >
       
    </ion-row>

    <ion-row >
      <ion-card class="w100">
        <ion-card-content>
          <ion-grid>
            <ion-row>
              <!-- <ion-col size="4" class="ion-margin-top">
                <ion-label class="ion-padding"><strong>عنوان التنبيه</strong></ion-label>
                <ion-note style="float:left" *ngIf="isSubmitted == true && newTask.notification_message == '' "> الحقل مطلوب</ion-note> 
                <ion-item class="custInput">
                  <ion-input [(ngModel)]="newTask.notification_message" placeholder="عنوان التنبيه"></ion-input>
                </ion-item>
              </ion-col> -->
              <ion-col size="4" class="ion-margin-top"> 
                <ion-label class="ion-padding"><strong>عنوان التنبيه </strong></ion-label>
                <ion-item class="custInput">
                  <ion-input [(ngModel)]="newTask.title" placeholder="  عنوان " ></ion-input>
                </ion-item>
              </ion-col>
              <ion-col size="4" class="ion-margin-top">
                <ion-label class="ion-padding"><strong> نوع التنبيه </strong></ion-label>
                <ion-note style="float:left" *ngIf="isSubmitted == true && newTask.notification_type == '' "> الحقل مطلوب</ion-note>
                <ion-item class="custInput"  (click)="presentPopoverNotif($event)" >  
                  <ion-icon name="chevron-down" color="medium" slot="end"></ion-icon> 
                  <ion-label> {{selectedType.name}} </ion-label>
                </ion-item>
                <ion-popover  #popoverNotif [isOpen]="isOpenNotif" (didDismiss)="didDissmisNotif()">
                  <ng-template>
                    <ion-content  dir="rtl">  
                      <ion-list class="ion-text-center"  *ngIf="caseTypeArr.length>0">
                       <ion-item button lines="none" *ngFor="let log of caseTypeArr" (click)="selectFromPopTypes(log)">
                       <ion-grid>
                         <ion-row class="ion-justify-content-center">
                           <ion-col size="9"> 
                               {{log.name}}    
                           </ion-col>
                            
                         </ion-row>
                       </ion-grid>
                     </ion-item> 
                      </ion-list> 
                    </ion-content>
                  </ng-template>
                </ion-popover>
              </ion-col>

              <ion-col size="4" class="ion-margin-top">
                <ion-label class="ion-padding"><strong> الأشخاص    </strong></ion-label>
                <ion-item class="custInput"  (click)="presentPopoverCustType($event)">  
                  <ion-icon name="chevron-down" color="medium" slot="end"></ion-icon> 
                  <ion-label *ngFor="let tm of selectedLawyersTeamArr"> 
                    <ion-text >{{tm.full_name}}</ion-text>
                  </ion-label>  
                </ion-item>
                <ion-popover  #popoverِCustomer [isOpen]="isOpenCustType" (didDismiss)="didDissmisCustType()">
                  <ng-template>
                    <ion-content  dir="rtl">  
                      <ion-list class="ion-text-center"  *ngIf="usersArr.length>0">
                         <ion-item button dir="rtl" lines="none" *ngFor="let log of usersArr ; let i = index"  (ionChange)="checkedTeam($event , log ,i)" >
                           <ion-label>{{log.full_name}} </ion-label>
                          <ion-checkbox  slot="start" [(ngModel)]="log.checked" > </ion-checkbox>
                         </ion-item> 
                      </ion-list> 
                    </ion-content>
                  </ng-template>
                </ion-popover>
              </ion-col>

              <ion-col size="4" class="ion-margin-top">
                <ion-label class="ion-padding"><strong>تاريخ التنبيه</strong></ion-label>
                <ion-item class="custInput">  
                  <ion-datetime-button datetime="datetime2"></ion-datetime-button> 
                  <ion-modal [keepContentsMounted]="true">
                    <ng-template>
                      <ion-datetime 
                      [(ngModel)]="newTask.notification_date" 
                      presentation="date"  
                      [locale]="locale"
                      id="datetime2">
                    </ion-datetime>
                    </ng-template>
                  </ion-modal>  
                </ion-item>


              </ion-col>

            

             
  

              <!-- <ion-col size="4" class="ion-margin-top">
                <ion-label class="ion-padding"><strong> حالة التنبيه </strong></ion-label>
                <ion-item class="custInput"  (click)="presentPopoverCase($event)" >  
                  <ion-icon name="chevron-down" color="medium" slot="end"></ion-icon> 
                  <ion-label> {{selectedCaseStatus.name}}     </ion-label>
                </ion-item>
                <ion-popover  #popoverCase [isOpen]="isOpenCase" (didDismiss)="didDissmisCase()">
                  <ng-template>
                    <ion-content  dir="rtl">  
                      <ion-list class="ion-text-center"  *ngIf="caseStatusArr.length>0">
                       <ion-item button lines="none" *ngFor="let log of caseStatusArr" (click)="selectFromPopCase(log)">
                       <ion-grid>
                         <ion-row class="ion-justify-content-center">
                           <ion-col size="9"> 
                               {{log.name}}    
                           </ion-col> 
                         </ion-row>
                       </ion-grid>
                     </ion-item> 
                      </ion-list> 
                    </ion-content>
                  </ng-template>
                </ion-popover>
              </ion-col> -->

              <ion-col size="12" class="ion-margin-top">
                <ion-label class="ion-padding"><strong>الرسالة </strong></ion-label>
                <ion-item class="custInput">
                  <ion-textarea [(ngModel)]="newTask.notification_message" placeholder="  الوصف " [autoGrow]="true"></ion-textarea>
                </ion-item>
              </ion-col>  
            </ion-row>
          </ion-grid>
        </ion-card-content>

        <ion-card-header class="listHed">
          <ion-button *ngIf="!newTask.id" fill="outline" (click)="saveBasics()" color="medium" class="custButton rad10">
            <ion-icon class="ico" color="dark" name="add-circle-outline"></ion-icon>
            <ion-text color="dark">حفــظ ومتابعة</ion-text>
          </ion-button> 
        </ion-card-header>
      </ion-card>
    </ion-row> 

  </ion-grid>
</ion-content>